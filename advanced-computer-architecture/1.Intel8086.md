# Intel8086

## 内部组成结构

- 主要功能模块
  - 执行部件EU：
    - 指令译码器；
    - 运算器ALU；
    - 通用寄存器和标志位寄存器；
    - 控制逻辑；
  - 总线接口部件BIU：
    - 段寄存器；
    - 地址形成逻辑；
    - 总线控制逻辑及总线驱动器；
    - 指令队列；
    - 指令指针；
- 寄存器
  - 通用寄存器：AX、BX、CX、DX；
  - 指针及变址寄存器：SP（堆栈指针）、BP（基址变址寄存器）、SI（源变址寄存器）、DI（目的变址寄存器）；
  - 段寄存器：CS（代码段基地址寄存器）、DS（数据段基地址寄存器）；SS（堆栈段基地址寄存器）；ES（附加段基地址寄存器）；
  - 专用寄存器：IP（指令指针）；FR（标志位寄存器）；

## 存储器的结构

- 数据存放的格式

  对一个16位的操作数，存放的方式是：存放在两个连续的存储单元中，低字节存放在地址为偶数的存储单元，高字节存放在相邻的奇地址存储单元。

  例：MOV (2013H) AX （将AX的16位数据存入2013H开始的单元，需要两个访存周期）。

  指令执行时，由于地址2013H是奇数，A0=1，AX7~0存入地址2013H单元（需要一个总线周期），然后CPU将地址自动加1（此时A0=0），将AX15~8存入2014H单元（又需要一个总线周期）。

- 存储器分段以及地址的形成

  存储器逻辑上划分为每64K为一个段。

  $$实际访问单元地址（物理地址）=段基地址×16（左移4位）+段内偏移量$$

  最大存储为1M，共20跟地址线。

## I/O中断

- 中断源
  - 外部中断：INTR（屏蔽中断）；NMI（非屏蔽中断）。
  - 内部中断：处理器运行过程中，由于其内部某种异常或错误而在内部自动产生的。

- 转入中断服务程序
  向量中断原理：中断请求信号--->处理器--->中断响应周期--->处理器取得中断向量码--->将向量中断码转换为中断服务程序基地址--->程序计数器--->中断服务程序。

  PS：将中断向量码乘以4，结果作为地址查找中断向量表，服务程序首地址放在该向量表中（中断向量表共1024字节）。
